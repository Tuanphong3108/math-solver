<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bộ Chuyển Đổi Đơn Vị - Ultimate Converter</title>
    <!-- Tải Material Symbols để dùng icon chất lượng cao -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <!-- Tải file manifest PWA để trình duyệt nhận diện ứng dụng -->
    <link rel="manifest" href="manifest.json">
    
    <style>
        /* CSS Tổng Thể & Reset */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; 
        }
        
        /* --- THANH ĐIỀU HƯỚNG (NAV BAR) (Đồng bộ với cymath_portal.html) --- */
        header#navbar {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            height: 64px; /* Chiều cao cố định của thanh Nav Bar */
            background-color: #1A497A; /* Màu xanh đậm, đồng bộ với theme PWA */
            color: #ffffff;
            padding: 0 16px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 10; /* Đảm bảo Nav Bar luôn ở trên cùng */
        }

        .nav-button {
            display: flex;
            align-items: center;
            padding: 8px 16px;
            margin-right: 12px;
            border-radius: 8px;
            text-decoration: none;
            color: #ffffff;
            transition: background-color 0.2s, transform 0.1s;
            font-weight: 600;
        }

        .nav-button .material-symbols-outlined {
            margin-right: 6px;
            font-size: 20px;
        }

        /* Nút ACTIVE (Trang hiện tại) */
        .nav-button.active {
            background-color: rgba(255, 255, 255, 0.2);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2) inset;
        }

        /* Hiệu ứng Hover */
        .nav-button:not(.active):hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        /* Hiệu ứng Click */
        .nav-button:active {
            transform: scale(0.98);
        }

        /* --- CONTAINER CHÍNH CỦA CONVERTER --- */
        #main-content {
            padding: 20px;
            max-width: 900px; /* Giới hạn chiều rộng để dễ đọc trên desktop */
            margin: 0 auto; /* Căn giữa */
        }

        h1 {
            color: #1A497A;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2rem;
            font-weight: 700;
        }

        .converter-section {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            margin-bottom: 25px;
        }

        .converter-section h2 {
            color: #333;
            font-size: 1.4rem;
            margin-top: 0;
            border-bottom: 2px solid #f0f4f8;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .input-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            align-items: center;
        }

        .input-group label {
            font-weight: 500;
            color: #555;
            display: block;
            margin-bottom: 5px;
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 6px;
            box-sizing: border-box;
            font-size: 1rem;
            transition: border-color 0.2s;
        }

        .input-group input:focus, .input-group select:focus {
            border-color: #1A497A;
            outline: none;
        }

        /* Responsive adjustments */
        @media (max-width: 600px) {
            #main-content {
                padding: 10px;
            }
            .input-group {
                grid-template-columns: 1fr;
            }
        }

    </style>
</head>
<body>
    <header id="navbar">
        <!-- ĐÃ CẬP NHẬT: Dùng đường dẫn TUYỆT ĐỐI theo yêu cầu, dẫn về trang chủ/index chính thức của PWA -->
        <a href="tuanphong3108.github.io/math-solver/index.html" class="nav-button" title="Mở Cymath Portal">
            <span class="material-symbols-outlined">calculate</span>
            Cymath
        </a>

        <!-- Dùng đường dẫn TƯƠNG ĐỐI cho trang hiện tại -->
        <a href="unit_converter.html" class="nav-button active" title="Trang Chủ Chuyển Đổi Đơn Vị">
            <span class="material-symbols-outlined">swap_horiz</span>
            Chuyển đổi đơn vị
        </a>
    </header>

    <div id="main-content">
        <h1>Bộ Chuyển Đổi Đơn Vị Toàn Diện</h1>

        <!-- 1. Độ Dài -->
        <div class="converter-section" id="length-converter">
            <h2>Độ Dài (Length)</h2>
            <div class="input-group">
                <div>
                    <label for="length-input">Giá trị</label>
                    <input type="number" id="length-input" value="1" oninput="convertLength()">
                </div>
                <div>
                    <label for="length-from">Từ</label>
                    <select id="length-from" onchange="convertLength()">
                        <option value="m">Mét (m)</option>
                        <option value="km">Kilômét (km)</option>
                        <option value="mi">Dặm (mi)</option>
                        <option value="ft">Foot (ft)</option>
                        <option value="in">Inch (in)</option>
                    </select>
                </div>
                <div>
                    <label for="length-to">Sang</label>
                    <select id="length-to" onchange="convertLength()">
                        <option value="km">Kilômét (km)</option>
                        <option value="m" selected>Mét (m)</option>
                        <option value="mi">Dặm (mi)</option>
                        <option value="ft">Foot (ft)</option>
                        <option value="in">Inch (in)</option>
                    </select>
                </div>
                <div>
                    <label for="length-result">Kết quả</label>
                    <input type="text" id="length-result" readonly>
                </div>
            </div>
        </div>

        <!-- 2. Nhiệt Độ -->
        <div class="converter-section" id="temperature-converter">
            <h2>Nhiệt Độ (Temperature)</h2>
            <div class="input-group">
                <div>
                    <label for="temp-input">Giá trị</label>
                    <input type="number" id="temp-input" value="0" oninput="convertTemperature()">
                </div>
                <div>
                    <label for="temp-from">Từ</label>
                    <select id="temp-from" onchange="convertTemperature()">
                        <option value="C">Celsius (°C)</option>
                        <option value="F">Fahrenheit (°F)</option>
                        <option value="K">Kelvin (K)</option>
                    </select>
                </div>
                <div>
                    <label for="temp-to">Sang</label>
                    <select id="temp-to" onchange="convertTemperature()">
                        <option value="C">Celsius (°C)</option>
                        <option value="F" selected>Fahrenheit (°F)</option>
                        <option value="K">Kelvin (K)</option>
                    </select>
                </div>
                <div>
                    <label for="temp-result">Kết quả</label>
                    <input type="text" id="temp-result" readonly>
                </div>
            </div>
        </div>
        
        <!-- 3. Khối Lượng -->
        <div class="converter-section" id="mass-converter">
            <h2>Khối Lượng (Mass)</h2>
            <div class="input-group">
                <div>
                    <label for="mass-input">Giá trị</label>
                    <input type="number" id="mass-input" value="1" oninput="convertMass()">
                </div>
                <div>
                    <label for="mass-from">Từ</label>
                    <select id="mass-from" onchange="convertMass()">
                        <option value="kg">Kilogram (kg)</option>
                        <option value="g">Gram (g)</option>
                        <option value="lb">Pound (lb)</option>
                        <option value="oz">Ounce (oz)</option>
                    </select>
                </div>
                <div>
                    <label for="mass-to">Sang</label>
                    <select id="mass-to" onchange="convertMass()">
                        <option value="kg">Kilogram (kg)</option>
                        <option value="g" selected>Gram (g)</option>
                        <option value="lb">Pound (lb)</option>
                        <option value="oz">Ounce (oz)</option>
                    </select>
                </div>
                <div>
                    <label for="mass-result">Kết quả</label>
                    <input type="text" id="mass-result" readonly>
                </div>
            </div>
        </div>

        <!-- 4. Tốc Độ -->
        <div class="converter-section" id="speed-converter">
            <h2>Tốc Độ (Speed)</h2>
            <div class="input-group">
                <div>
                    <label for="speed-input">Giá trị</label>
                    <input type="number" id="speed-input" value="100" oninput="convertSpeed()">
                </div>
                <div>
                    <label for="speed-from">Từ</label>
                    <select id="speed-from" onchange="convertSpeed()">
                        <option value="kph">km/h</option>
                        <option value="mph">mph</option>
                        <option value="mps">m/s</option>
                    </select>
                </div>
                <div>
                    <label for="speed-to">Sang</label>
                    <select id="speed-to" onchange="convertSpeed()">
                        <option value="kph">km/h</option>
                        <option value="mph" selected>mph</option>
                        <option value="mps">m/s</option>
                    </select>
                </div>
                <div>
                    <label for="speed-result">Kết quả</label>
                    <input type="text" id="speed-result" readonly>
                </div>
            </div>
        </div>

        <!-- 5. Dung Tích -->
        <div class="converter-section" id="volume-converter">
            <h2>Dung Tích (Volume)</h2>
            <div class="input-group">
                <div>
                    <label for="volume-input">Giá trị</label>
                    <input type="number" id="volume-input" value="1" oninput="convertVolume()">
                </div>
                <div>
                    <label for="volume-from">Từ</label>
                    <select id="volume-from" onchange="convertVolume()">
                        <option value="l">Lít (l)</option>
                        <option value="ml">Mililít (ml)</option>
                        <option value="gal">Gallon (gal)</option>
                        <option value="m3">Mét khối (m³)</option>
                    </select>
                </div>
                <div>
                    <label for="volume-to">Sang</label>
                    <select id="volume-to" onchange="convertVolume()">
                        <option value="l">Lít (l)</option>
                        <option value="ml" selected>Mililít (ml)</option>
                        <option value="gal">Gallon (gal)</option>
                        <option value="m3">Mét khối (m³)</option>
                    </select>
                </div>
                <div>
                    <label for="volume-result">Kết quả</label>
                    <input type="text" id="volume-result" readonly>
                </div>
            </div>
        </div>

    </div>

    <script>
        // Các tỷ lệ cơ bản (chuyển về đơn vị chuẩn - base unit)
        // Độ dài: base là m
        const LENGTH_RATES = {
            m: 1,
            km: 1000,
            mi: 1609.34,
            ft: 0.3048,
            in: 0.0254
        };

        function convertLength() {
            const input = parseFloat(document.getElementById('length-input').value);
            const fromUnit = document.getElementById('length-from').value;
            const toUnit = document.getElementById('length-to').value;
            const resultElement = document.getElementById('length-result');

            if (isNaN(input)) {
                resultElement.value = '';
                return;
            }

            // Chuyển về base unit (mét)
            const baseValue = input * LENGTH_RATES[fromUnit];
            // Chuyển từ base unit sang toUnit
            const result = baseValue / LENGTH_RATES[toUnit];

            resultElement.value = result.toFixed(6);
        }

        function convertTemperature() {
            const input = parseFloat(document.getElementById('temp-input').value);
            const fromUnit = document.getElementById('temp-from').value;
            const toUnit = document.getElementById('temp-to').value;
            const resultElement = document.getElementById('temp-result');

            if (isNaN(input)) {
                resultElement.value = '';
                return;
            }

            // Bước 1: Chuyển về Celsius (base temp)
            let baseC;
            if (fromUnit === 'C') {
                baseC = input;
            } else if (fromUnit === 'F') {
                baseC = (input - 32) * 5 / 9;
            } else if (fromUnit === 'K') {
                baseC = input - 273.15;
            }

            // Bước 2: Chuyển từ Celsius sang toUnit
            let result;
            if (toUnit === 'C') {
                result = baseC;
            } else if (toUnit === 'F') {
                result = (baseC * 9 / 5) + 32;
            } else if (toUnit === 'K') {
                result = baseC + 273.15;
            }

            resultElement.value = result.toFixed(2);
        }

        // Khối lượng: base là kg
        const MASS_RATES = {
            kg: 1,
            g: 0.001,
            lb: 0.453592,
            oz: 0.0283495
        };

        function convertMass() {
            const input = parseFloat(document.getElementById('mass-input').value);
            const fromUnit = document.getElementById('mass-from').value;
            const toUnit = document.getElementById('mass-to').value;
            const resultElement = document.getElementById('mass-result');

            if (isNaN(input)) {
                resultElement.value = '';
                return;
            }

            // Chuyển về base unit (kg)
            const baseValue = input * MASS_RATES[fromUnit];
            // Chuyển từ base unit sang toUnit
            const result = baseValue / MASS_RATES[toUnit];

            resultElement.value = result.toFixed(4);
        }
        
        // Tốc độ: base là m/s
        const SPEED_RATES = {
            mps: 1,
            kph: 1000 / 3600, // m/s = km/h / 3.6
            mph: 1609.34 / 3600 // m/s = mile / 3600s
        };

        function convertSpeed() {
            const input = parseFloat(document.getElementById('speed-input').value);
            const fromUnit = document.getElementById('speed-from').value;
            const toUnit = document.getElementById('speed-to').value;
            const resultElement = document.getElementById('speed-result');

            if (isNaN(input)) {
                resultElement.value = '';
                return;
            }

            // Chuyển về base unit (m/s)
            const baseValue = input * SPEED_RATES[fromUnit];
            // Chuyển từ base unit sang toUnit
            const result = baseValue / SPEED_RATES[toUnit];

            resultElement.value = result.toFixed(3);
        }
        
        // Dung tích: base là lít (l)
        const VOLUME_RATES = {
            l: 1,
            ml: 0.001,
            gal: 3.78541,
            m3: 1000 // 1 m³ = 1000 lít
        };

        function convertVolume() {
            const input = parseFloat(document.getElementById('volume-input').value);
            const fromUnit = document.getElementById('volume-from').value;
            const toUnit = document.getElementById('volume-to').value;
            const resultElement = document.getElementById('volume-result');

            if (isNaN(input)) {
                resultElement.value = '';
                return;
            }

            // Chuyển về base unit (lít)
            const baseValue = input * VOLUME_RATES[fromUnit];
            // Chuyển từ base unit sang toUnit
            const result = baseValue / VOLUME_RATES[toUnit];

            resultElement.value = result.toFixed(4);
        }

        // Chạy lần đầu để có kết quả mặc định
        window.onload = function() {
            convertLength();
            convertTemperature();
            convertMass();
            convertSpeed();
            convertVolume();
        };

    </script>
</body>
</html>
